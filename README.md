# hindsight-aws

## Usage

Run `./deploy.sh` to create Hindsight's underlying infrastructure in AWS. It will create a CloudFormation
stack named $StackPrefix-$EnvironmentName and an S3 bucket named $BucketPrefix-$EnvironmentName.
If not specified as parameter overrides to the CloudFormation template, secret values for the Postgres RDS
instance and the Grafana admin passwords will be randomly generated by `openssl`.

```bash
./deploy.sh foo-stack-prefix foo-bucket-prefix environmentName myuser --parameter-overrides DbUsername=FooRdsdb
```

Running the script will deploy a CloudFormation stack and apply an `iamidentitymapping` to
the `aws-auth` ConfigMap in Kubernetes. Anyone who can assume the `hindsight-user-role` will
be able to work with your EKS instance.

## Installation

At a minimum, you will need `awscli`, `kubectl`, and `helm`.

Running our `./deploy.sh` script also requires `jq`.
